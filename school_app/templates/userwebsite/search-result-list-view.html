{% extends "userwebsite/base-view.html" %}

{% block body_block %}

{% load video_controll %}
<!-- ==========================
  JUMBOTRON - START
=========================== -->
<section class="jumbotron">
  <div class="container">
      <div class="row">
          <div class="col-sm-8">
              <h2>Search Results</h2>
                <h3>Keyword is: <strong>{{ keyword }}</strong></h3>
            </div>
            <div class="col-sm-4">

            </div>
        </div>
    </div>
</section>
<!-- ==========================
  JUMBOTRON - END
=========================== -->

<!-- ==========================
  SERVICES - START value1,kwarg=value2
=========================== -->
<section class="content-item" id="services">
  <div class="container">
    <div class="content-headline">
        <h2>Total {{ search_items.count|customadd:course_search_items.count }} results found</h2>
          <h3>Lecture Found: <strong>{{ search_items.count }}</strong> and Course Found: <strong>{{ course_search_items.count }}</strong> </h3>
      </div>

      {% if search_items.count > 0 or course_search_items.count > 0 %}

      <div class="row">
          <div class="panel-group" id="faq-panel">

            {% if search_items.count > 0 %}


                {% for search_obj in search_items %}


                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h4 class="panel-title">
                        <a type="button" class="video-btn" data-toggle="modal" data-target="#{{ search_obj.id }}">
                          Lecture {{ forloop.counter }} - {{ search_obj.name }}
                        </a>
                        <p>Course Name - <a href="{% url 'course_detail_page' search_obj.course.id %}">{{ search_obj.course.name }}</a></p>
                        <p>School Name - {{ search_obj.course.school.name }}</p>
                        <p>Category - Lecture</p>
                      </h4>
                    </div>
                  </div>


                  <!-- Modal -->
                  <div class="modal fade" id="{{ search_obj.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel">Lecture {{ forloop.counter }} - {{ search_obj.name }}</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">

                          <div class="embed-responsive embed-responsive-16by9">
                            <iframe width="560" height="315" src="{{ search_obj.lecture_video_link }}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

                          </div>

                          {% if search_obj.enable_description == True %}
                          <div class="video-description">
                              <p id="{{ search_obj.id }}">{{ search_obj.description }}</p>
                          </div>
                          {% endif %}

                        </div>
                        <div class="modal-footer">

                          <div class="course-name">
                            This video is part of a course on <a type="button" class="btn btn-danger" href="{% url 'course_detail_page' search_obj.course.id %}">{{ search_obj.course.name }}</a>
                          </div>


                        </div>
                      </div>
                    </div>
                  </div>


                {% endfor %}

                {% else %}
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      <a type="button" class="video-btn" data-toggle="modal" data-target="#">
                        Sorry, no lecture found
                      </a>
                    </h4>
                  </div>
                </div>

            {% endif %}

{{ search_obj.course.name }}

          </div>
        </div>

        <hr>

        <div class="row">
            <div class="panel-group" id="faq-panel">

              {% if course_search_items.count > 0 %}


                  {% for search_obj in course_search_items %}


                    <div class="panel panel-default">
                      <div class="panel-heading">
                        <h4 class="panel-title">
                          <a type="button" class="video-btn" href="{% url 'course_detail_page' search_obj.id %}">
                            Course {{ forloop.counter }} - {{ search_obj.name }}
                          </a>
                          <p>School Name - {{ search_obj.school.name }}</p>
                          <p>Category - Course</p>
                        </h4>
                      </div>
                    </div>


                  {% endfor %}

                  {% else %}
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h4 class="panel-title">
                        <a type="button" class="video-btn" data-toggle="modal" data-target="#">
                          Sorry, no course found
                        </a>
                      </h4>
                    </div>
                  </div>

              {% endif %}

            </div>
          </div>

          {% endif %}

    </div>
</section>
<!-- ==========================
  SERVICES - END
=========================== -->


{% endblock  %}
